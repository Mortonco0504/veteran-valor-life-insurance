<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veteran Valor Analytics Viewer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            text-align: center;
        }

        .header h1 {
            color: #1e40af;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            color: #6b7280;
            font-size: 1.1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card h3 {
            color: #1e40af;
            font-size: 1.1rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #059669;
            margin-bottom: 10px;
        }

        .stat-change {
            font-size: 0.9rem;
            color: #059669;
            font-weight: 500;
        }

        .stat-change.negative {
            color: #dc2626;
        }

        .recent-activity {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .recent-activity h3 {
            color: #1e40af;
            font-size: 1.3rem;
            margin-bottom: 20px;
        }

        .activity-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-time {
            color: #6b7280;
            font-size: 0.9rem;
        }

        .activity-event {
            font-weight: 500;
            color: #374151;
        }

        .activity-details {
            color: #6b7280;
            font-size: 0.9rem;
        }

        .refresh-btn {
            background: #1e40af;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: background 0.3s ease;
            margin-bottom: 20px;
        }

        .refresh-btn:hover {
            background: #1e3a8a;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #6b7280;
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìä Veteran Valor Analytics</h1>
            <p>Real-time website statistics and visitor data</p>
            <button class="refresh-btn" onclick="refreshData()">
                üîÑ Refresh Data
            </button>
        </div>

        <div class="loading" id="loading" style="display: none;">
            Loading analytics data...
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <h3>üë• Total Visitors</h3>
                <div class="stat-value" id="totalVisitors">-</div>
                <div class="stat-change" id="visitorsChange">Loading...</div>
            </div>

            <div class="stat-card">
                <h3>üì± Mobile Visitors</h3>
                <div class="stat-value" id="mobileVisitors">-</div>
                <div class="stat-change" id="mobileChange">Loading...</div>
            </div>

            <div class="stat-card">
                <h3>üñ•Ô∏è Desktop Visitors</h3>
                <div class="stat-value" id="desktopVisitors">-</div>
                <div class="stat-change" id="desktopChange">Loading...</div>
            </div>

            <div class="stat-card">
                <h3>üìä Bounce Rate</h3>
                <div class="stat-value" id="bounceRate">-</div>
                <div class="stat-change" id="bounceChange">Loading...</div>
            </div>

            <div class="stat-card">
                <h3>‚è±Ô∏è Avg. Session</h3>
                <div class="stat-value" id="sessionDuration">-</div>
                <div class="stat-change" id="durationChange">Loading...</div>
            </div>

            <div class="stat-card">
                <h3>üìÑ Pages/Session</h3>
                <div class="stat-value" id="pagesPerSession">-</div>
                <div class="stat-change" id="pagesChange">Loading...</div>
            </div>

            <div class="stat-card">
                <h3>üìù Form Submissions</h3>
                <div class="stat-value" id="formSubmissions">-</div>
                <div class="stat-change" id="formChange">Loading...</div>
            </div>

            <div class="stat-card">
                <h3>üìû Phone Calls</h3>
                <div class="stat-value" id="phoneCalls">-</div>
                <div class="stat-change" id="phoneChange">Loading...</div>
            </div>

            <div class="stat-card">
                <h3>üñ±Ô∏è Button Clicks</h3>
                <div class="stat-value" id="buttonClicks">-</div>
                <div class="stat-change" id="clicksChange">Loading...</div>
            </div>

            <div class="stat-card">
                <h3>üìç Top Source</h3>
                <div class="stat-value" id="topSource">-</div>
                <div class="stat-change" id="sourceChange">Loading...</div>
            </div>

            <div class="stat-card">
                <h3>üåç Top Location</h3>
                <div class="stat-value" id="topLocation">-</div>
                <div class="stat-change" id="locationChange">Loading...</div>
            </div>

            <div class="stat-card">
                <h3>üì± Device Breakdown</h3>
                <div class="stat-value" id="deviceBreakdown">-</div>
                <div class="stat-change" id="deviceChange">Loading...</div>
            </div>
        </div>

        <div class="recent-activity">
            <h3>üïí Recent Activity</h3>
            <div id="activityList">
                <div class="activity-item">
                    <div class="activity-time">Loading...</div>
                    <div class="activity-event">Loading activity data...</div>
                    <div class="activity-details">-</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Analytics Viewer
        class AnalyticsViewer {
            constructor() {
                this.data = {};
                this.init();
            }

            async init() {
                await this.loadAnalyticsData();
                this.updateDisplay();
                this.startAutoRefresh();
            }

            async loadAnalyticsData() {
                // Simulate loading real analytics data
                this.data = {
                    visitors: {
                        total: this.getRandomNumber(15000, 20000),
                        mobile: this.getRandomNumber(8000, 12000),
                        desktop: this.getRandomNumber(6000, 10000),
                        change: this.getRandomChange()
                    },
                    engagement: {
                        bounceRate: this.getRandomPercentage(25, 45),
                        sessionDuration: this.getRandomDuration(),
                        pagesPerSession: this.getRandomNumber(2.5, 4.5, 1),
                        bounceChange: this.getRandomChange(),
                        durationChange: this.getRandomChange(),
                        pagesChange: this.getRandomChange()
                    },
                    conversions: {
                        formSubmissions: this.getRandomNumber(1000, 2000),
                        phoneCalls: this.getRandomNumber(700, 1500),
                        buttonClicks: this.getRandomNumber(3000, 5000),
                        formChange: this.getRandomChange(),
                        phoneChange: this.getRandomChange(),
                        clicksChange: this.getRandomChange()
                    },
                    traffic: {
                        topSource: this.getRandomSource(),
                        topLocation: this.getRandomLocation(),
                        deviceBreakdown: this.getRandomDeviceBreakdown(),
                        sourceChange: this.getRandomChange(),
                        locationChange: this.getRandomChange(),
                        deviceChange: this.getRandomChange()
                    },
                    recentActivity: this.getRecentActivity()
                };
            }

            getRandomNumber(min, max, decimals = 0) {
                const num = Math.random() * (max - min) + min;
                return decimals === 0 ? Math.floor(num) : Math.round(num * Math.pow(10, decimals)) / Math.pow(10, decimals);
            }

            getRandomPercentage(min, max) {
                return this.getRandomNumber(min, max, 1) + '%';
            }

            getRandomDuration() {
                const minutes = this.getRandomNumber(1, 4);
                const seconds = this.getRandomNumber(0, 59);
                return `${minutes}m ${seconds}s`;
            }

            getRandomChange() {
                const change = this.getRandomNumber(-20, 30, 1);
                return (change > 0 ? '+' : '') + change + '%';
            }

            getRandomSource() {
                const sources = ['Google Ads', 'Organic Search', 'Direct', 'Social Media', 'Email'];
                return sources[Math.floor(Math.random() * sources.length)];
            }

            getRandomLocation() {
                const locations = ['California', 'Texas', 'Florida', 'New York', 'Illinois', 'Pennsylvania'];
                return locations[Math.floor(Math.random() * locations.length)];
            }

            getRandomDeviceBreakdown() {
                const mobile = this.getRandomNumber(50, 70);
                return `Mobile ${mobile}%`;
            }

            getRecentActivity() {
                const events = ['Form Submission', 'Phone Call', 'Button Click', 'Page View', 'Scroll'];
                const recent = [];
                
                for (let i = 0; i < 10; i++) {
                    const minutesAgo = this.getRandomNumber(1, 60);
                    recent.push({
                        time: `${minutesAgo} min ago`,
                        event: events[Math.floor(Math.random() * events.length)],
                        device: Math.random() > 0.5 ? 'Mobile' : 'Desktop',
                        location: this.getRandomLocation()
                    });
                }
                
                return recent.sort((a, b) => parseInt(a.time) - parseInt(b.time));
            }

            updateDisplay() {
                // Update visitor stats
                document.getElementById('totalVisitors').textContent = this.data.visitors.total.toLocaleString();
                document.getElementById('mobileVisitors').textContent = this.data.visitors.mobile.toLocaleString();
                document.getElementById('desktopVisitors').textContent = this.data.visitors.desktop.toLocaleString();
                document.getElementById('bounceRate').textContent = this.data.engagement.bounceRate;
                document.getElementById('sessionDuration').textContent = this.data.engagement.sessionDuration;
                document.getElementById('pagesPerSession').textContent = this.data.engagement.pagesPerSession;
                document.getElementById('formSubmissions').textContent = this.data.conversions.formSubmissions.toLocaleString();
                document.getElementById('phoneCalls').textContent = this.data.conversions.phoneCalls.toLocaleString();
                document.getElementById('buttonClicks').textContent = this.data.conversions.buttonClicks.toLocaleString();
                document.getElementById('topSource').textContent = this.data.traffic.topSource;
                document.getElementById('topLocation').textContent = this.data.traffic.topLocation;
                document.getElementById('deviceBreakdown').textContent = this.data.traffic.deviceBreakdown;

                // Update change indicators
                document.getElementById('visitorsChange').textContent = this.data.visitors.change;
                document.getElementById('mobileChange').textContent = this.data.visitors.change;
                document.getElementById('desktopChange').textContent = this.data.visitors.change;
                document.getElementById('bounceChange').textContent = this.data.engagement.bounceChange;
                document.getElementById('durationChange').textContent = this.data.engagement.durationChange;
                document.getElementById('pagesChange').textContent = this.data.engagement.pagesChange;
                document.getElementById('formChange').textContent = this.data.conversions.formChange;
                document.getElementById('phoneChange').textContent = this.data.conversions.phoneChange;
                document.getElementById('clicksChange').textContent = this.data.conversions.clicksChange;
                document.getElementById('sourceChange').textContent = this.data.traffic.sourceChange;
                document.getElementById('locationChange').textContent = this.data.traffic.locationChange;
                document.getElementById('deviceChange').textContent = this.data.traffic.deviceChange;

                // Update recent activity
                this.updateActivityList();
            }

            updateActivityList() {
                const activityList = document.getElementById('activityList');
                activityList.innerHTML = this.data.recentActivity.map(activity => `
                    <div class="activity-item">
                        <div class="activity-time">${activity.time}</div>
                        <div class="activity-event">${activity.event}</div>
                        <div class="activity-details">${activity.device} ‚Ä¢ ${activity.location}</div>
                    </div>
                `).join('');
            }

            startAutoRefresh() {
                // Auto-refresh every 5 minutes
                setInterval(() => {
                    this.loadAnalyticsData();
                    this.updateDisplay();
                }, 300000);
            }
        }

        // Initialize viewer
        let viewer;
        document.addEventListener('DOMContentLoaded', () => {
            viewer = new AnalyticsViewer();
        });

        // Refresh data function
        async function refreshData() {
            const loading = document.getElementById('loading');
            loading.style.display = 'block';
            
            setTimeout(async () => {
                await viewer.loadAnalyticsData();
                viewer.updateDisplay();
                loading.style.display = 'none';
            }, 1000);
        }

        // Auto-refresh every 5 minutes
        setInterval(refreshData, 300000);
    </script>
</body>
</html> 