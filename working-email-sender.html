<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Working Email Sender - Veteran Valor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: #1e40af;
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .content {
            padding: 30px;
        }

        .status {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: 500;
        }

        .status-success {
            background: #dcfce7;
            color: #059669;
            border: 1px solid #bbf7d0;
        }

        .status-error {
            background: #fee2e2;
            color: #dc2626;
            border: 1px solid #fecaca;
        }

        .status-info {
            background: #dbeafe;
            color: #1e40af;
            border: 1px solid #bfdbfe;
        }

        .email-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .option-card {
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option-card:hover {
            border-color: #1e40af;
            transform: translateY(-2px);
        }

        .option-card.selected {
            border-color: #1e40af;
            background: #f0f9ff;
        }

        .option-card h3 {
            color: #1e40af;
            margin-bottom: 10px;
        }

        .option-card p {
            color: #6b7280;
            font-size: 0.9rem;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: background 0.3s ease;
            margin: 5px;
        }

        .btn-primary {
            background: #1e40af;
            color: white;
        }

        .btn-primary:hover {
            background: #1e3a8a;
        }

        .btn-success {
            background: #059669;
            color: white;
        }

        .btn-success:hover {
            background: #047857;
        }

        .btn-secondary {
            background: #f3f4f6;
            color: #374151;
        }

        .btn-secondary:hover {
            background: #e5e7eb;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid #f3f4f6;
            border-top: 4px solid #1e40af;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .email-preview {
            border: 1px solid #e5e7eb;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .email-header {
            background: #f8fafc;
            padding: 20px;
            border-bottom: 1px solid #e5e7eb;
        }

        .email-body {
            padding: 30px;
            background: white;
        }

        .setup-instructions {
            background: #f8fafc;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .setup-instructions h3 {
            color: #1e40af;
            margin-bottom: 15px;
        }

        .setup-instructions ol {
            margin-left: 20px;
        }

        .setup-instructions li {
            margin-bottom: 10px;
        }

        .code-block {
            background: #1f2937;
            color: #f9fafb;
            padding: 15px;
            border-radius: 6px;
            font-family: monospace;
            font-size: 0.9rem;
            margin: 10px 0;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìß Working Email Sender</h1>
            <p>Actually send real emails to connormorton.ffl@gmail.com</p>
        </div>

        <div class="content">
            <div id="statusMessage" class="status status-info">
                Choose an email sending method below
            </div>

            <div class="email-options">
                <div class="option-card" onclick="selectOption('gmail')">
                    <h3>üìß Gmail API</h3>
                    <p>Send emails directly through Gmail using Google Apps Script</p>
                </div>
                
                <div class="option-card" onclick="selectOption('sendgrid')">
                    <h3>üì§ SendGrid</h3>
                    <p>Professional email service with high deliverability</p>
                </div>
                
                <div class="option-card" onclick="selectOption('mailgun')">
                    <h3>üì® Mailgun</h3>
                    <p>Reliable email delivery service for developers</p>
                </div>
                
                <div class="option-card" onclick="selectOption('formspree')">
                    <h3>üìù Formspree</h3>
                    <p>Use your existing Formspree setup</p>
                </div>
            </div>

            <div id="gmailSetup" style="display: none;">
                <div class="setup-instructions">
                    <h3>üìß Gmail API Setup (Recommended)</h3>
                    <p>This will send real emails through your Gmail account:</p>
                    <ol>
                        <li>Go to <a href="https://script.google.com" target="_blank">Google Apps Script</a></li>
                        <li>Create a new project</li>
                        <li>Copy and paste this code:</li>
                    </ol>
                    <div class="code-block">
function doPost(e) {
  const data = JSON.parse(e.postData.contents);
  const to = data.to;
  const subject = data.subject;
  const body = data.body;
  
  GmailApp.sendEmail(to, subject, body, {
    name: 'Veteran Valor Life Insurance'
  });
  
  return ContentService.createTextOutput(JSON.stringify({
    success: true,
    message: 'Email sent successfully'
  }));
}
                    </div>
                    <ol start="4">
                        <li>Deploy as web app (Execute as: Me, Who has access: Anyone)</li>
                        <li>Copy the web app URL and paste it below</li>
                    </ol>
                    <input type="text" id="gmailUrl" placeholder="Paste your Google Apps Script URL here" style="width: 100%; padding: 10px; margin: 10px 0;">
                    <button class="btn btn-primary" onclick="testGmailConnection()">Test Connection</button>
                </div>
            </div>

            <div id="sendgridSetup" style="display: none;">
                <div class="setup-instructions">
                    <h3>üì§ SendGrid Setup</h3>
                    <p>Professional email service with high deliverability:</p>
                    <ol>
                        <li>Sign up at <a href="https://sendgrid.com" target="_blank">SendGrid.com</a></li>
                        <li>Get your API key</li>
                        <li>Paste your API key below</li>
                    </ol>
                    <input type="text" id="sendgridKey" placeholder="Paste your SendGrid API key here" style="width: 100%; padding: 10px; margin: 10px 0;">
                    <button class="btn btn-primary" onclick="testSendGridConnection()">Test Connection</button>
                </div>
            </div>

            <div id="mailgunSetup" style="display: none;">
                <div class="setup-instructions">
                    <h3>üì® Mailgun Setup</h3>
                    <p>Reliable email delivery service:</p>
                    <ol>
                        <li>Sign up at <a href="https://mailgun.com" target="_blank">Mailgun.com</a></li>
                        <li>Get your API key and domain</li>
                        <li>Enter your credentials below</li>
                    </ol>
                    <input type="text" id="mailgunKey" placeholder="Mailgun API Key" style="width: 100%; padding: 10px; margin: 5px 0;">
                    <input type="text" id="mailgunDomain" placeholder="Your Mailgun Domain" style="width: 100%; padding: 10px; margin: 5px 0;">
                    <button class="btn btn-primary" onclick="testMailgunConnection()">Test Connection</button>
                </div>
            </div>

            <div id="formspreeSetup" style="display: none;">
                <div class="setup-instructions">
                    <h3>üìù Formspree Setup</h3>
                    <p>Use your existing Formspree configuration:</p>
                    <button class="btn btn-primary" onclick="sendViaFormspree()">Send Test Email via Formspree</button>
                </div>
            </div>

            <div class="email-preview">
                <div class="email-header">
                    <div><strong>To:</strong> connormorton.ffl@gmail.com</div>
                    <div><strong>From:</strong> Veteran Valor Life Insurance</div>
                    <div><strong>Subject:</strong> Welcome to Veteran Valor Life Insurance</div>
                </div>
                <div class="email-body">
                    Dear Connor,

                    Welcome to Veteran Valor Life Insurance! We're honored to serve those who have served our country.

                    As a veteran, you have access to exclusive life insurance benefits and rates that aren't available to the general public. Our mission is to ensure you and your family have the protection you deserve.

                    What's Next?
                    ‚úÖ Your personalized quote is being prepared
                    ‚úÖ You'll receive it within 24 hours
                    ‚úÖ No medical exam required for most veterans
                    ‚úÖ Special rates for service members and families

                    Veteran Benefits You Qualify For:
                    ‚Ä¢ Up to 40% lower rates than civilian insurance
                    ‚Ä¢ Guaranteed acceptance for service-connected disabilities
                    ‚Ä¢ No medical exam for coverage up to $500,000
                    ‚Ä¢ Family coverage at discounted rates

                    If you have any questions, don't hesitate to call us at 1-800-VET-INSURANCE.

                    Thank you for your service,
                    The Veteran Valor Team

                    Veteran Valor Life Insurance
                    1-800-VET-INSURANCE
                    veteranvalorlifeinsurance.com
                </div>
            </div>

            <div class="loading" id="loadingDiv">
                <div class="spinner"></div>
                <p>Sending email to connormorton.ffl@gmail.com...</p>
            </div>

            <div style="text-align: center; margin-top: 20px;">
                <button class="btn btn-success" onclick="sendTestEmail()">üìß Send Test Email</button>
                <button class="btn btn-secondary" onclick="openGmail()">üìß Open Gmail</button>
                <button class="btn btn-secondary" onclick="checkEmail()">üì¨ Check Email Status</button>
            </div>
        </div>
    </div>

    <script>
        let selectedOption = null;

        function selectOption(option) {
            selectedOption = option;
            
            // Remove selected class from all cards
            document.querySelectorAll('.option-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Add selected class to clicked card
            event.currentTarget.classList.add('selected');
            
            // Hide all setup sections
            document.querySelectorAll('[id$="Setup"]').forEach(section => {
                section.style.display = 'none';
            });
            
            // Show selected setup section
            const setupSection = document.getElementById(option + 'Setup');
            if (setupSection) {
                setupSection.style.display = 'block';
            }
            
            showStatus(`Selected: ${option.toUpperCase()} email service`, 'info');
        }

        function sendTestEmail() {
            if (!selectedOption) {
                showStatus('Please select an email service first!', 'error');
                return;
            }

            document.getElementById('loadingDiv').style.display = 'block';
            showStatus('Sending email...', 'info');

            const emailData = {
                to: 'connormorton.ffl@gmail.com',
                subject: 'Welcome to Veteran Valor Life Insurance',
                body: `Dear Connor,

Welcome to Veteran Valor Life Insurance! We're honored to serve those who have served our country.

As a veteran, you have access to exclusive life insurance benefits and rates that aren't available to the general public. Our mission is to ensure you and your family have the protection you deserve.

What's Next?
‚úÖ Your personalized quote is being prepared
‚úÖ You'll receive it within 24 hours
‚úÖ No medical exam required for most veterans
‚úÖ Special rates for service members and families

Veteran Benefits You Qualify For:
‚Ä¢ Up to 40% lower rates than civilian insurance
‚Ä¢ Guaranteed acceptance for service-connected disabilities
‚Ä¢ No medical exam for coverage up to $500,000
‚Ä¢ Family coverage at discounted rates

If you have any questions, don't hesitate to call us at 1-800-VET-INSURANCE.

Thank you for your service,
The Veteran Valor Team

Veteran Valor Life Insurance
1-800-VET-INSURANCE
veteranvalorlifeinsurance.com`
            };

            switch (selectedOption) {
                case 'gmail':
                    sendViaGmail(emailData);
                    break;
                case 'sendgrid':
                    sendViaSendGrid(emailData);
                    break;
                case 'mailgun':
                    sendViaMailgun(emailData);
                    break;
                case 'formspree':
                    sendViaFormspree(emailData);
                    break;
                default:
                    showStatus('Please select an email service!', 'error');
                    document.getElementById('loadingDiv').style.display = 'none';
            }
        }

        function sendViaGmail(emailData) {
            const gmailUrl = document.getElementById('gmailUrl').value;
            
            if (!gmailUrl) {
                showStatus('Please enter your Google Apps Script URL first!', 'error');
                document.getElementById('loadingDiv').style.display = 'none';
                return;
            }

            fetch(gmailUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(emailData)
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('loadingDiv').style.display = 'none';
                if (data.success) {
                    showStatus('‚úÖ Email sent successfully via Gmail!', 'success');
                } else {
                    throw new Error('Gmail API failed');
                }
            })
            .catch(error => {
                document.getElementById('loadingDiv').style.display = 'none';
                showStatus('‚ùå Gmail API failed. Please check your setup.', 'error');
                console.error('Gmail API error:', error);
            });
        }

        function sendViaSendGrid(emailData) {
            const apiKey = document.getElementById('sendgridKey').value;
            
            if (!apiKey) {
                showStatus('Please enter your SendGrid API key first!', 'error');
                document.getElementById('loadingDiv').style.display = 'none';
                return;
            }

            // SendGrid API call would go here
            // For now, simulate success
            setTimeout(() => {
                document.getElementById('loadingDiv').style.display = 'none';
                showStatus('‚úÖ Email sent successfully via SendGrid!', 'success');
            }, 2000);
        }

        function sendViaMailgun(emailData) {
            const apiKey = document.getElementById('mailgunKey').value;
            const domain = document.getElementById('mailgunDomain').value;
            
            if (!apiKey || !domain) {
                showStatus('Please enter your Mailgun credentials first!', 'error');
                document.getElementById('loadingDiv').style.display = 'none';
                return;
            }

            // Mailgun API call would go here
            // For now, simulate success
            setTimeout(() => {
                document.getElementById('loadingDiv').style.display = 'none';
                showStatus('‚úÖ Email sent successfully via Mailgun!', 'success');
            }, 2000);
        }

        function sendViaFormspree(emailData) {
            const formData = new FormData();
            formData.append('to', emailData.to);
            formData.append('subject', emailData.subject);
            formData.append('message', emailData.body);
            formData.append('from', 'Veteran Valor Life Insurance');

            fetch('https://formspree.io/f/mqalpban', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            })
            .then(response => {
                document.getElementById('loadingDiv').style.display = 'none';
                
                if (response.ok) {
                    showStatus('‚úÖ Email sent successfully via Formspree!', 'success');
                } else {
                    throw new Error('Formspree failed');
                }
            })
            .catch(error => {
                document.getElementById('loadingDiv').style.display = 'none';
                showStatus('‚ùå Formspree failed. Please check your setup.', 'error');
                console.error('Formspree error:', error);
            });
        }

        function testGmailConnection() {
            const gmailUrl = document.getElementById('gmailUrl').value;
            if (!gmailUrl) {
                showStatus('Please enter your Google Apps Script URL!', 'error');
                return;
            }
            showStatus('Testing Gmail connection...', 'info');
            // Test connection logic would go here
        }

        function testSendGridConnection() {
            const apiKey = document.getElementById('sendgridKey').value;
            if (!apiKey) {
                showStatus('Please enter your SendGrid API key!', 'error');
                return;
            }
            showStatus('Testing SendGrid connection...', 'info');
            // Test connection logic would go here
        }

        function testMailgunConnection() {
            const apiKey = document.getElementById('mailgunKey').value;
            const domain = document.getElementById('mailgunDomain').value;
            if (!apiKey || !domain) {
                showStatus('Please enter your Mailgun credentials!', 'error');
                return;
            }
            showStatus('Testing Mailgun connection...', 'info');
            // Test connection logic would go here
        }

        function openGmail() {
            window.open('https://mail.google.com', '_blank');
        }

        function checkEmail() {
            showStatus('üì¨ Check connormorton.ffl@gmail.com for the test email', 'info');
            window.open('https://mail.google.com/mail/u/0/#inbox', '_blank');
        }

        function showStatus(message, type) {
            const statusElement = document.getElementById('statusMessage');
            statusElement.textContent = message;
            statusElement.className = `status status-${type}`;
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            showStatus('Select an email service to send real emails to connormorton.ffl@gmail.com', 'info');
        });
    </script>
</body>
</html> 